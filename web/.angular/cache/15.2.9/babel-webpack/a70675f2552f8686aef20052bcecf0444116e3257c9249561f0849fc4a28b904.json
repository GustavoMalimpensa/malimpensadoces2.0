{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/services/ProductService\";\nimport * as i2 from \"@angular/common\";\nfunction ProductsComponent_li_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function ProductsComponent_li_6_Template_button_click_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const product_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.deleteProduct(product_r2.id));\n    });\n    i0.ɵɵtext(3, \" Excluir \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const product_r2 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", product_r2.name, \" \");\n  }\n}\nexport class ProductsComponent {\n  constructor(productService) {\n    this.productService = productService;\n    this.products = [];\n    this.newProduct = {\n      name: ''\n    };\n  }\n  ngOnInit() {\n    this.loadProducts();\n  }\n  loadProducts() {\n    this.productService.getAllProducts().subscribe(products => {\n      this.products = products;\n    }, error => {\n      console.error('Erro ao carregar produtos:', error);\n    });\n  }\n  addProduct() {\n    if (!this.newProduct.name) {\n      alert('Por favor, insira o nome do produto.');\n      return;\n    }\n    this.productService.addProducts(this.newProduct).subscribe(response => {\n      console.log('Produto adicionado com sucesso:', response);\n      this.newProduct.name = ''; // Limpar o campo de entrada\n      this.loadProducts(); // Recarregar a lista de produtos\n    }, error => {\n      console.error('Erro ao adicionar produto:', error);\n    });\n  }\n  deleteProduct(productId) {\n    this.productService.deleteAProduct(productId).subscribe(() => {\n      console.log('Produto excluído com sucesso.');\n      this.loadProducts(); // Recarregar a lista de produtos após a exclusão\n    }, error => {\n      console.error('Erro ao excluir produto:', error);\n    });\n  }\n}\nProductsComponent.ɵfac = function ProductsComponent_Factory(t) {\n  return new (t || ProductsComponent)(i0.ɵɵdirectiveInject(i1.ProductService));\n};\nProductsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductsComponent,\n  selectors: [[\"app-products\"]],\n  decls: 19,\n  vars: 2,\n  consts: [[1, \"container\", \"mt-5\"], [1, \"row\", \"mt-3\"], [1, \"col-md-6\"], [1, \"list-group\"], [\"class\", \"list-group-item d-flex justify-content-between align-items-center\", 4, \"ngFor\", \"ngForOf\"], [1, \"row\", \"mt-5\"], [3, \"ngSubmit\"], [\"productForm\", \"ngForm\"], [1, \"form-group\"], [\"for\", \"name\"], [\"type\", \"text\", \"id\", \"name\", \"name\", \"name\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"], [1, \"list-group-item\", \"d-flex\", \"justify-content-between\", \"align-items-center\"], [1, \"btn\", \"btn-danger\", \"btn-sm\", 3, \"click\"]],\n  template: function ProductsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n      i0.ɵɵtext(2, \"Lista de Produtos\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 1)(4, \"div\", 2)(5, \"ul\", 3);\n      i0.ɵɵtemplate(6, ProductsComponent_li_6_Template, 4, 1, \"li\", 4);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(7, \"div\", 5)(8, \"div\", 2)(9, \"h2\");\n      i0.ɵɵtext(10, \"Adicionar Produto\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"form\", 6, 7);\n      i0.ɵɵlistener(\"ngSubmit\", function ProductsComponent_Template_form_ngSubmit_11_listener() {\n        return ctx.addProduct();\n      });\n      i0.ɵɵelementStart(13, \"div\", 8)(14, \"label\", 9);\n      i0.ɵɵtext(15, \"Nome:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"input\", 10);\n      i0.ɵɵlistener(\"ngModelChange\", function ProductsComponent_Template_input_ngModelChange_16_listener($event) {\n        return ctx.newProduct.name = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(17, \"button\", 11);\n      i0.ɵɵtext(18, \"Adicionar\");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngForOf\", ctx.products);\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngModel\", ctx.newProduct.name);\n    }\n  },\n  dependencies: [i2.NgForOf],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;IAOUA,8BAGC;IACCA,YACA;IAAAA,kCAGC;IADCA;MAAA;MAAA;MAAA;MAAA,OAASA,kDAAyB;IAAA,EAAC;IAEnCA,yBACF;IAAAA,iBAAS;;;;IANTA,eACA;IADAA,gDACA;;;ACJZ,OAAM,MAAOC,iBAAiB;EAK5BC,YAAoBC,cAA8B;IAA9B,mBAAc,GAAdA,cAAc;IAJlC,aAAQ,GAAU,EAAE;IACpB,eAAU,GAAQ;MAChBC,IAAI,EAAE;KACP;EACoD;EAErDC,QAAQ;IACN,IAAI,CAACC,YAAY,EAAE;EACrB;EAEAA,YAAY;IACV,IAAI,CAACH,cAAc,CAACI,cAAc,EAAE,CAACC,SAAS,CAC3CC,QAAe,IAAI;MAClB,IAAI,CAACA,QAAQ,GAAGA,QAAQ;IAC1B,CAAC,EACAC,KAAK,IAAI;MACRC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;IACpD,CAAC,CACF;EACH;EACAE,UAAU;IACR,IAAI,CAAC,IAAI,CAACC,UAAU,CAACT,IAAI,EAAE;MACzBU,KAAK,CAAC,sCAAsC,CAAC;MAC7C;;IAGF,IAAI,CAACX,cAAc,CAACY,WAAW,CAAC,IAAI,CAACF,UAAU,CAAC,CAACL,SAAS,CACvDQ,QAAQ,IAAI;MACXL,OAAO,CAACM,GAAG,CAAC,iCAAiC,EAAED,QAAQ,CAAC;MACxD,IAAI,CAACH,UAAU,CAACT,IAAI,GAAG,EAAE,CAAC,CAAC;MAC3B,IAAI,CAACE,YAAY,EAAE,CAAC,CAAC;IACvB,CAAC,EACAI,KAAK,IAAI;MACRC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;IACpD,CAAC,CACF;EACH;EACAQ,aAAa,CAACC,SAAiB;IAC7B,IAAI,CAAChB,cAAc,CAACiB,cAAc,CAACD,SAAS,CAAC,CAACX,SAAS,CACrD,MAAK;MACHG,OAAO,CAACM,GAAG,CAAC,+BAA+B,CAAC;MAC5C,IAAI,CAACX,YAAY,EAAE,CAAC,CAAC;IACvB,CAAC,EACAI,KAAK,IAAI;MACRC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IAClD,CAAC,CACF;EACH;;AAhDWT,iBAAiB;mBAAjBA,iBAAiB;AAAA;AAAjBA,iBAAiB;QAAjBA,iBAAiB;EAAAoB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDR9BzB,8BAA4B;MACpBA,iCAAiB;MAAAA,iBAAK;MAG1BA,8BAAsB;MAGhBA,gEAWK;MACPA,iBAAK;MAKTA,8BAAsB;MAEdA,kCAAiB;MAAAA,iBAAK;MAC1BA,mCAAsD;MAAhDA;QAAA,OAAY0B,gBAAY;MAAA,EAAC;MAC7B1B,+BAAwB;MACJA,sBAAK;MAAAA,iBAAQ;MAC/BA,kCAOE;MAFAA;QAAA;MAAA,EAA6B;MAL/BA,iBAOE;MAEJA,mCAA8C;MAAAA,0BAAS;MAAAA,iBAAS;;;MA9B1CA,eAAW;MAAXA,sCAAW;MA0B7BA,gBAA6B;MAA7BA,6CAA6B","names":["i0","ProductsComponent","constructor","productService","name","ngOnInit","loadProducts","getAllProducts","subscribe","products","error","console","addProduct","newProduct","alert","addProducts","response","log","deleteProduct","productId","deleteAProduct","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\gumal\\OneDrive\\Área de Trabalho\\malimpens2.0\\web\\src\\app\\admin\\products\\products.component.html","C:\\Users\\gumal\\OneDrive\\Área de Trabalho\\malimpens2.0\\web\\src\\app\\admin\\products\\products.component.ts"],"sourcesContent":["<div class=\"container mt-5\">\r\n    <h1>Lista de Produtos</h1>\r\n  \r\n    <!-- Lista de Produtos -->\r\n    <div class=\"row mt-3\">\r\n      <div class=\"col-md-6\">\r\n        <ul class=\"list-group\">\r\n          <li\r\n            class=\"list-group-item d-flex justify-content-between align-items-center\"\r\n            *ngFor=\"let product of products\"\r\n          >\r\n            {{ product.name }}\r\n            <button\r\n              class=\"btn btn-danger btn-sm\"\r\n              (click)=\"deleteProduct(product.id)\"\r\n            >\r\n              Excluir\r\n            </button>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  \r\n    <!-- Formulário de Adição de Produto -->\r\n    <div class=\"row mt-5\">\r\n      <div class=\"col-md-6\">\r\n        <h2>Adicionar Produto</h2>\r\n        <form (ngSubmit)=\"addProduct()\" #productForm=\"ngForm\">\r\n          <div class=\"form-group\">\r\n            <label for=\"name\">Nome:</label>\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              id=\"name\"\r\n              name=\"name\"\r\n              [(ngModel)]=\"newProduct.name\"\r\n              required\r\n            />\r\n          </div>\r\n          <button type=\"submit\" class=\"btn btn-primary\">Adicionar</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  ","import { Component } from '@angular/core';\nimport { ProductService } from 'src/services/ProductService';\n\n@Component({\n  selector: 'app-products',\n  templateUrl: './products.component.html',\n  styleUrls: ['./products.component.css']\n})\nexport class ProductsComponent {\n  products: any[] = [];\n  newProduct: any = {\n    name: ''\n  };\n  constructor(private productService: ProductService) {}\n\n  ngOnInit(): void {\n    this.loadProducts();\n  }\n\n  loadProducts() {\n    this.productService.getAllProducts().subscribe(\n      (products: any[]) => {\n        this.products = products;\n      },\n      (error) => {\n        console.error('Erro ao carregar produtos:', error);\n      }\n    );\n  }\n  addProduct() {\n    if (!this.newProduct.name) {\n      alert('Por favor, insira o nome do produto.');\n      return;\n    }\n\n    this.productService.addProducts(this.newProduct).subscribe(\n      (response) => {\n        console.log('Produto adicionado com sucesso:', response);\n        this.newProduct.name = ''; // Limpar o campo de entrada\n        this.loadProducts(); // Recarregar a lista de produtos\n      },\n      (error) => {\n        console.error('Erro ao adicionar produto:', error);\n      }\n    );\n  }\n  deleteProduct(productId: number) {\n    this.productService.deleteAProduct(productId).subscribe(\n      () => {\n        console.log('Produto excluído com sucesso.');\n        this.loadProducts(); // Recarregar a lista de produtos após a exclusão\n      },\n      (error) => {\n        console.error('Erro ao excluir produto:', error);\n      }\n    );\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}