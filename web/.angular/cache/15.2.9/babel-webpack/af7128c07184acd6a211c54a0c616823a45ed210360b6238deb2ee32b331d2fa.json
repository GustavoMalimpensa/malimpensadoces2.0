{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"ngx-bootstrap/modal\";\nimport * as i2 from \"src/app/services/product.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nconst _c0 = [\"modalTemplate\"];\nfunction ProductsComponent_div_16_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const product_r3 = i0.ɵɵnextContext().$implicit;\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Quantidade: \", ctx_r4.getCarrinhoItem(product_r3).quantidade, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Pre\\u00E7o: R$ \", ctx_r4.getCarrinhoItem(product_r3).price * ctx_r4.getCarrinhoItem(product_r3).quantidade, \"\");\n  }\n}\nfunction ProductsComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"div\", 12);\n    i0.ɵɵelement(2, \"img\", 13);\n    i0.ɵɵelementStart(3, \"div\", 14)(4, \"h5\", 15);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 16);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\", 16);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(10, \"div\", 17);\n    i0.ɵɵelementStart(11, \"div\", 18)(12, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function ProductsComponent_div_16_Template_button_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const product_r3 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.adicionarAoCarrinho(product_r3));\n    });\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(14, ProductsComponent_div_16_div_14_Template, 5, 2, \"div\", 19);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const product_r3 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"src\", product_r3.imageUrl, i0.ɵɵsanitizeUrl);\n    i0.ɵɵpropertyInterpolate(\"alt\", product_r3.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(product_r3.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r3.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Pre\\u00E7o: R$ \", product_r3.price, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.estaNoCarrinho(product_r3) ? \"Adicionar Mais\" : \"Adicionar no Carrinho\", \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.estaNoCarrinho(product_r3));\n  }\n}\nfunction ProductsComponent_ng_template_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 20)(1, \"h4\", 21);\n    i0.ɵɵtext(2, \"Adicionar Produto\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function ProductsComponent_ng_template_21_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.modalRef == null ? null : ctx_r8.modalRef.hide());\n    });\n    i0.ɵɵelementStart(4, \"span\", 23);\n    i0.ɵɵtext(5, \"\\u00D7\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(6, \"div\", 24)(7, \"form\", 25);\n    i0.ɵɵlistener(\"submit\", function ProductsComponent_ng_template_21_Template_form_submit_7_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.addProduct());\n    });\n    i0.ɵɵelementStart(8, \"div\", 26)(9, \"label\", 27);\n    i0.ɵɵtext(10, \"Nome do Produto:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"input\", 28);\n    i0.ɵɵlistener(\"ngModelChange\", function ProductsComponent_ng_template_21_Template_input_ngModelChange_11_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.newProduct.name = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 26)(13, \"label\", 29);\n    i0.ɵɵtext(14, \"Categoria:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"input\", 30);\n    i0.ɵɵlistener(\"ngModelChange\", function ProductsComponent_ng_template_21_Template_input_ngModelChange_15_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.newProduct.category = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 26)(17, \"label\", 31);\n    i0.ɵɵtext(18, \"Pre\\u00E7o:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"input\", 32);\n    i0.ɵɵlistener(\"ngModelChange\", function ProductsComponent_ng_template_21_Template_input_ngModelChange_19_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.newProduct.price = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"button\", 33);\n    i0.ɵɵtext(21, \"Adicionar\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(22, \"div\", 34)(23, \"button\", 35);\n    i0.ɵɵlistener(\"click\", function ProductsComponent_ng_template_21_Template_button_click_23_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.modalRef == null ? null : ctx_r14.modalRef.hide());\n    });\n    i0.ɵɵtext(24, \"Cancelar\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.newProduct.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.newProduct.category);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.newProduct.price);\n  }\n}\nexport class ProductsComponent {\n  constructor(modalService, ProductService // Injete o serviço aqui\n  ) {\n    this.modalService = modalService;\n    this.ProductService = ProductService;\n    this.allProducts = []; // Array para armazenar todos os produtos\n    this.products = [];\n    this.title = '';\n    this.newProduct = {\n      imageUrl: '',\n      category: '',\n      name: '',\n      content: '',\n      price: '',\n      user_id: '1'\n    };\n  }\n  ngOnInit() {\n    this.loadProducts();\n  }\n  loadProducts() {\n    // Chame o serviço para carregar todos os produtos\n    this.ProductService.getAllProducts().subscribe(products => {\n      this.allProducts = products; // Forçar a tipagem para um array\n      // Inicialmente, exiba todos os produtos\n      this.allProducts;\n    });\n  }\n  addProduct() {\n    if (!this.newProduct.name) {\n      alert('Por favor, insira o nome do produto.');\n      return;\n    }\n    this.ProductService.addProducts(this.newProduct).subscribe(response => {\n      console.log('Produto adicionado com sucesso:', response);\n      this.newProduct.name = ''; // Limpar o campo de entrada\n      this.loadProducts(); // Recarregar a lista de produtos\n    }, error => {\n      console.error('Erro ao adicionar produto:', error);\n    });\n  }\n  deleteProduct(productId) {\n    this.ProductService.deleteProduct(productId).subscribe(() => {\n      console.log('Produto excluído com sucesso.');\n      this.loadProducts(); // Recarregar a lista de produtos após a exclusão\n    }, error => {\n      console.error('Erro ao excluir produto:', error);\n    });\n  }\n  openModal(buttonNumber) {\n    this.title = `Comprar produtos`;\n    this.modalRef = this.modalService.show(this.modalTemplate);\n  }\n}\nProductsComponent.ɵfac = function ProductsComponent_Factory(t) {\n  return new (t || ProductsComponent)(i0.ɵɵdirectiveInject(i1.BsModalService), i0.ɵɵdirectiveInject(i2.ProductService));\n};\nProductsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductsComponent,\n  selectors: [[\"app-products\"]],\n  viewQuery: function ProductsComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.modalTemplate = _t.first);\n    }\n  },\n  decls: 23,\n  vars: 9,\n  consts: [[1, \"header\", \"mb-5\", \"mt-5\", \"text-center\"], [1, \"categories\", \"mt-3\"], [1, \"nav-item\"], [1, \"nav-link\", 3, \"click\"], [1, \"container\", \"mb-5\", \"mt-5\"], [1, \"row\"], [\"class\", \"col-lg-4 col-md-4 col-sm-6\", 4, \"ngFor\", \"ngForOf\"], [1, \"mb-5\", \"mt-5\", \"text-center\"], [1, \"btn\", \"btn-primary\", \"mb-3\"], [1, \"btn\", \"btn-primary\", \"btn-block\", 3, \"click\"], [\"modalTemplate\", \"\"], [1, \"col-lg-4\", \"col-md-4\", \"col-sm-6\"], [1, \"card\", \"mt-3\"], [1, \"card-img-top\", 3, \"src\", \"alt\"], [1, \"card-body\", \"text-center\"], [1, \"card-title\"], [1, \"card-text\"], [1, \"star\", \"mt-3\", \"align-item-center\"], [1, \"p-3\", \"shoe\", \"text-center\", \"text-white\", \"mt-3\", \"cursor\"], [4, \"ngIf\"], [1, \"modal-header\", \"bg-primary\", \"text-white\"], [1, \"modal-title\", \"pull-left\"], [\"type\", \"button\", \"aria-label\", \"Close\", 1, \"btn-close\", \"close\", \"pull-right\", 3, \"click\"], [\"aria-hidden\", \"true\", 1, \"visually-hidden\"], [1, \"modal-body\"], [3, \"submit\"], [1, \"form-group\"], [\"for\", \"productName\"], [\"type\", \"text\", \"id\", \"productName\", \"name\", \"productName\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"productCategory\"], [\"type\", \"text\", \"id\", \"productCategory\", \"name\", \"productCategory\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"productPrice\"], [\"type\", \"number\", \"id\", \"productPrice\", \"name\", \"productPrice\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"], [1, \"modal-footer\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", 3, \"click\"]],\n  template: function ProductsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"ul\", 1)(2, \"li\", 2)(3, \"a\", 3);\n      i0.ɵɵlistener(\"click\", function ProductsComponent_Template_a_click_3_listener() {\n        return ctx.filterProducts(\"*\");\n      });\n      i0.ɵɵtext(4, \"Todos\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(5, \"li\", 2)(6, \"a\", 3);\n      i0.ɵɵlistener(\"click\", function ProductsComponent_Template_a_click_6_listener() {\n        return ctx.filterProducts(\"cone_trufado\");\n      });\n      i0.ɵɵtext(7, \"Cone Trufado\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(8, \"li\", 2)(9, \"a\", 3);\n      i0.ɵɵlistener(\"click\", function ProductsComponent_Template_a_click_9_listener() {\n        return ctx.filterProducts(\"bolo_pote\");\n      });\n      i0.ɵɵtext(10, \"Bolo de Pote\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(11, \"li\", 2)(12, \"a\", 3);\n      i0.ɵɵlistener(\"click\", function ProductsComponent_Template_a_click_12_listener() {\n        return ctx.filterProducts(\"bolo\");\n      });\n      i0.ɵɵtext(13, \"Bolo\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(14, \"div\", 4)(15, \"div\", 5);\n      i0.ɵɵtemplate(16, ProductsComponent_div_16_Template, 15, 7, \"div\", 6);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(17, \"div\", 7)(18, \"div\", 8)(19, \"button\", 9);\n      i0.ɵɵlistener(\"click\", function ProductsComponent_Template_button_click_19_listener() {\n        return ctx.openModal(1);\n      });\n      i0.ɵɵtext(20, \" Adicionar Novo Produto \");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(21, ProductsComponent_ng_template_21_Template, 25, 3, \"ng-template\", null, 10, i0.ɵɵtemplateRefExtractor);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵclassProp(\"active\", ctx.selectedCategory === \"*\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵclassProp(\"active\", ctx.selectedCategory === \"cone_trufado\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵclassProp(\"active\", ctx.selectedCategory === \"bolo_pote\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵclassProp(\"active\", ctx.selectedCategory === \"bolo\");\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngForOf\", ctx.filteredProducts);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ctx_r8","ctx_r14","ProductsComponent","constructor","modalService","ProductService","imageUrl","category","name","content","price","user_id","ngOnInit","loadProducts","getAllProducts","subscribe","products","allProducts","addProduct","newProduct","alert","addProducts","response","console","log","error","deleteProduct","productId","openModal","buttonNumber","title","modalRef","show","modalTemplate","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["C:\\Users\\gumal\\OneDrive\\Área de Trabalho\\malimpens2.0\\web\\src\\app\\admin\\products\\products.component.html","C:\\Users\\gumal\\OneDrive\\Área de Trabalho\\malimpens2.0\\web\\src\\app\\admin\\products\\products.component.ts"],"sourcesContent":["<!-- filtro dos produtos -->\r\n\r\n<div class=\"header mb-5 mt-5 text-center\">\r\n  <ul class=\"categories mt-3\">\r\n    <li class=\"nav-item\">\r\n      <a class=\"nav-link\" [class.active]=\"selectedCategory === '*'\" (click)=\"filterProducts('*')\">Todos</a>\r\n    </li>\r\n    <li class=\"nav-item\">\r\n      <a class=\"nav-link\" [class.active]=\"selectedCategory === 'cone_trufado'\" (click)=\"filterProducts('cone_trufado')\">Cone Trufado</a>\r\n    </li>\r\n    <li class=\"nav-item\">\r\n      <a class=\"nav-link\" [class.active]=\"selectedCategory === 'bolo_pote'\" (click)=\"filterProducts('bolo_pote')\">Bolo de Pote</a>\r\n    </li>\r\n    <li class=\"nav-item\">\r\n      <a class=\"nav-link\" [class.active]=\"selectedCategory === 'bolo'\" (click)=\"filterProducts('bolo')\">Bolo</a>\r\n    </li>\r\n  </ul>  \r\n</div>\r\n\r\n\r\n<!--Importando todos os produtos-->\r\n\r\n<div class=\"container mb-5 mt-5\">\r\n  <div class=\"row\">\r\n    <div class=\"col-lg-4 col-md-4 col-sm-6\" *ngFor=\"let product of filteredProducts\">\r\n      <div class=\"card mt-3\">\r\n        <img src=\"{{ product.imageUrl }}\" alt=\"{{ product.name }}\" class=\"card-img-top\">\r\n        <div class=\"card-body text-center\">\r\n          <h5 class=\"card-title\">{{ product.name }}</h5>\r\n          <p class=\"card-text\">{{ product.description }}</p>\r\n          <p class=\"card-text\">Preço: R$ {{ product.price }}</p>\r\n          <div class=\"star mt-3 align-item-center\">\r\n            <!-- Adicione as estrelas aqui, se necessário -->\r\n          </div>\r\n          <div class=\"p-3 shoe text-center text-white mt-3 cursor\">\r\n            <button class=\"btn btn-primary btn-block\" (click)=\"adicionarAoCarrinho(product)\">\r\n              {{ estaNoCarrinho(product) ? 'Adicionar Mais' : 'Adicionar no Carrinho' }}\r\n            </button>\r\n            <div *ngIf=\"estaNoCarrinho(product)\">\r\n              <p>Quantidade: {{ getCarrinhoItem(product).quantidade }}</p>\r\n              <p>Preço: R$ {{ getCarrinhoItem(product).price * getCarrinhoItem(product).quantidade }}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n<!--Botão do modal-->\r\n\r\n<div class=\"mb-5 mt-5 text-center\">\r\n  <div class=\"btn btn-primary mb-3\">\r\n    <button class=\"btn btn-primary btn-block\" (click)=\"openModal(1)\">\r\n      Adicionar Novo Produto\r\n    </button>\r\n  </div>\r\n</div>\r\n\r\n\r\n<!-- Modal de Adição de Produto -->\r\n<ng-template #modalTemplate>\r\n  <div class=\"modal-header bg-primary text-white\">\r\n    <h4 class=\"modal-title pull-left\">Adicionar Produto</h4>\r\n    <button type=\"button\" class=\"btn-close close pull-right\" aria-label=\"Close\" (click)=\"modalRef?.hide()\">\r\n      <span aria-hidden=\"true\" class=\"visually-hidden\">&times;</span>\r\n    </button>\r\n  </div>\r\n  <div class=\"modal-body\">\r\n    <!-- Formulário para adicionar um novo produto -->\r\n    <form (submit)=\"addProduct()\">\r\n      <div class=\"form-group\">\r\n        <label for=\"productName\">Nome do Produto:</label>\r\n        <input\r\n          type=\"text\"\r\n          class=\"form-control\"\r\n          id=\"productName\"\r\n          name=\"productName\"\r\n          [(ngModel)]=\"newProduct.name\"\r\n          required\r\n        />\r\n      </div>\r\n      <!-- Adicione outros campos aqui, como categoria, descrição, preço, etc. -->\r\n      <div class=\"form-group\">\r\n        <label for=\"productCategory\">Categoria:</label>\r\n        <input\r\n          type=\"text\"\r\n          class=\"form-control\"\r\n          id=\"productCategory\"\r\n          name=\"productCategory\"\r\n          [(ngModel)]=\"newProduct.category\"\r\n          required\r\n        />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"productPrice\">Preço:</label>\r\n        <input\r\n          type=\"number\"\r\n          class=\"form-control\"\r\n          id=\"productPrice\"\r\n          name=\"productPrice\"\r\n          [(ngModel)]=\"newProduct.price\"\r\n          required\r\n        />\r\n      </div>\r\n      <button type=\"submit\" class=\"btn btn-primary\">Adicionar</button>\r\n    </form>\r\n  </div>\r\n  <div class=\"modal-footer\">\r\n    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"modalRef?.hide()\">Cancelar</button>\r\n  </div>\r\n</ng-template>\r\n\r\n","import { Component, ViewChild } from '@angular/core';\nimport { BsModalService, BsModalRef } from 'ngx-bootstrap/modal';\nimport { ProductService } from 'src/app/services/product.service';\n\n\n@Component({\n  selector: 'app-products',\n  templateUrl: './products.component.html',\n  styleUrls: ['./products.component.css']\n})\nexport class ProductsComponent {\n\n  allProducts: any[] = []; // Array para armazenar todos os produtos\n  products: any[] = [];\n  title: string = '';\n  newProduct: any = {\n    imageUrl: '',\n    category: '',\n    name: '',\n    content: '',\n    price: '',\n    user_id: '1',\n  };\n  modalRef?: BsModalRef;\n  \n  constructor(\n    private modalService: BsModalService,\n    private ProductService: ProductService // Injete o serviço aqui\n  ) {}\n\n  ngOnInit(): void {\n    this.loadProducts();\n  }\n\n \n  loadProducts() {\n    // Chame o serviço para carregar todos os produtos\n    this.ProductService.getAllProducts().subscribe((products) => {\n      this.allProducts = products as any[]; // Forçar a tipagem para um array\n      // Inicialmente, exiba todos os produtos\n      this.allProducts;\n    });\n  }\n  \n  addProduct() {\n    if (!this.newProduct.name) {\n      alert('Por favor, insira o nome do produto.');\n      return;\n    }\n\n    this.ProductService.addProducts(this.newProduct).subscribe(\n      (response) => {\n        console.log('Produto adicionado com sucesso:', response);\n        this.newProduct.name = ''; // Limpar o campo de entrada\n        this.loadProducts(); // Recarregar a lista de produtos\n      },\n      (error) => {\n        console.error('Erro ao adicionar produto:', error);\n      }\n    );\n  }\n\n  deleteProduct(productId: number) {\n    this.ProductService.deleteProduct(productId).subscribe(\n      () => {\n        console.log('Produto excluído com sucesso.');\n        this.loadProducts(); // Recarregar a lista de produtos após a exclusão\n      },\n      (error) => {\n        console.error('Erro ao excluir produto:', error);\n      }\n    );\n  }\n\n  openModal(buttonNumber: number) {\n    this.title = `Comprar produtos`;\n    this.modalRef = this.modalService.show(this.modalTemplate);\n  }\n\n  @ViewChild('modalTemplate') modalTemplate!: string;\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}