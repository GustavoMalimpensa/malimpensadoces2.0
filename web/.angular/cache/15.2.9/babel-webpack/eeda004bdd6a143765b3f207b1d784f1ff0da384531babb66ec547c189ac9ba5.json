{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/carrinho.service\";\nimport * as i2 from \"@angular/common\";\nfunction FinalizeOrderComponent_div_3_li_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\")(1, \"h3\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const produto_r5 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(produto_r5.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Quantidade: \", produto_r5.quantidade, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Pre\\u00E7o Unit\\u00E1rio: R$ \", produto_r5.price, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Pre\\u00E7o Total: R$ \", produto_r5.price * produto_r5.quantidade, \"\");\n  }\n}\nfunction FinalizeOrderComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"ul\");\n    i0.ɵɵtemplate(2, FinalizeOrderComponent_div_3_li_2_Template, 9, 4, \"li\", 18);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.produtosDoCarrinho);\n  }\n}\nfunction FinalizeOrderComponent_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 1);\n    i0.ɵɵtext(1, \"Seu carrinho de compras est\\u00E1 vazio.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction FinalizeOrderComponent_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"label\", 19);\n    i0.ɵɵtext(2, \"Endere\\u00E7o de Entrega:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"input\", 20);\n    i0.ɵɵelementEnd();\n  }\n}\nexport class FinalizeOrderComponent {\n  constructor(carrinhoService) {\n    this.carrinhoService = carrinhoService;\n    this.metodoPagamento = 'pix';\n    this.metodoEntrega = 'retirar';\n    this.enderecoEntrega = '';\n    this.dataHora = '';\n    this.numeroLoja = '+5519999372133';\n    this.produtosDoCarrinho = []; // Declare a propriedade produtosDoCarrinho aqui\n  }\n\n  ngOnInit() {\n    // Obtenha os produtos do carrinho usando o serviço\n    this.produtosDoCarrinho = this.carrinhoService.obterProdutosDoCarrinho();\n  }\n  calcularTotal() {\n    let total = 0;\n    for (const produto of this.produtosDoCarrinho) {\n      total += produto.price * produto.quantidade;\n    }\n    return total;\n  }\n  concluirCompra() {\n    if (this.produtosDoCarrinho.length === 0) {\n      return;\n    }\n    const mensagem = 'Olá, gostaria de realizar um pedido!\\n\\n' + this.produtosDoCarrinho.map(item => `${item.quantidade}x ${item.name} - R$${(item.price * item.quantidade).toFixed(2)}`).join('\\n') + '\\n-------------------------------\\n' + `Ficando no Total: R$${this.calcularPrecoTotal().toFixed(2)}\\n\\n` + `O método de pagamento vai ser: ${this.metodoPagamento}\\n` + `Metodo de entrega: ${this.metodoEntrega === 'retirar' ? 'Vou retirar o pedido' : 'Vou querer que entregue (' + this.enderecoEntrega + ')'}\\n` + `Tudo isso quero para o dia: ${this.dataHora}`;\n    const linkWhatsApp = `https://wa.me/${this.numeroLoja}?text=${encodeURIComponent(mensagem)}`;\n    window.open(linkWhatsApp, '_blank');\n  }\n}\nFinalizeOrderComponent.ɵfac = function FinalizeOrderComponent_Factory(t) {\n  return new (t || FinalizeOrderComponent)(i0.ɵɵdirectiveInject(i1.CarrinhoService));\n};\nFinalizeOrderComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: FinalizeOrderComponent,\n  selectors: [[\"app-finalize-order\"]],\n  decls: 32,\n  vars: 3,\n  consts: [[1, \"container\", \"mt-5\"], [1, \"text-center\"], [4, \"ngIf\", \"ngIfElse\"], [\"carrinhoVazio\", \"\"], [1, \"form-group\"], [\"for\", \"metodoPagamento\"], [\"id\", \"metodoPagamento\", 1, \"form-control\"], [\"value\", \"pix\"], [\"value\", \"debito\"], [\"value\", \"credito\"], [\"value\", \"pagarDepois\"], [\"for\", \"metodoEntrega\"], [\"id\", \"metodoEntrega\", 1, \"form-control\"], [\"value\", \"retirar\"], [\"value\", \"entregar\"], [\"class\", \"form-group\", 4, \"ngIf\"], [\"for\", \"dataHora\"], [\"type\", \"datetime-local\", \"id\", \"dataHora\", 1, \"form-control\"], [4, \"ngFor\", \"ngForOf\"], [\"for\", \"endereco\"], [\"type\", \"text\", \"id\", \"endereco\", 1, \"form-control\"]],\n  template: function FinalizeOrderComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n      i0.ɵɵtext(2, \"Revisar Pedido\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(3, FinalizeOrderComponent_div_3_Template, 3, 1, \"div\", 2);\n      i0.ɵɵtemplate(4, FinalizeOrderComponent_ng_template_4_Template, 2, 0, \"ng-template\", null, 3, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"form\")(7, \"div\", 4)(8, \"label\", 5);\n      i0.ɵɵtext(9, \"M\\u00E9todo de Pagamento:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"select\", 6)(11, \"option\", 7);\n      i0.ɵɵtext(12, \"Pix\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"option\", 8);\n      i0.ɵɵtext(14, \"Cart\\u00E3o de D\\u00E9bito\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"option\", 9);\n      i0.ɵɵtext(16, \"Cart\\u00E3o de Cr\\u00E9dito\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"option\", 10);\n      i0.ɵɵtext(18, \"Vou Pagar Depois\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(19, \"div\", 4)(20, \"label\", 11);\n      i0.ɵɵtext(21, \"M\\u00E9todo de Entrega:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"select\", 12)(23, \"option\", 13);\n      i0.ɵɵtext(24, \"Vou Retirar o Pedido\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"option\", 14);\n      i0.ɵɵtext(26, \"Vou Querer que Entregue\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(27, FinalizeOrderComponent_div_27_Template, 4, 0, \"div\", 15);\n      i0.ɵɵelementStart(28, \"div\", 4)(29, \"label\", 16);\n      i0.ɵɵtext(30, \"Data e Hora:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(31, \"input\", 17);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(5);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.produtosDoCarrinho.length > 0)(\"ngIfElse\", _r1);\n      i0.ɵɵadvance(24);\n      i0.ɵɵproperty(\"ngIf\", ctx.metodoEntrega === \"entregar\");\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","FinalizeOrderComponent","constructor","carrinhoService","ngOnInit","produtosDoCarrinho","obterProdutosDoCarrinho","calcularTotal","total","produto","price","quantidade","concluirCompra","length","mensagem","map","item","name","toFixed","join","calcularPrecoTotal","metodoPagamento","metodoEntrega","enderecoEntrega","dataHora","linkWhatsApp","numeroLoja","encodeURIComponent","window","open","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\gumal\\OneDrive\\Área de Trabalho\\malimpens2.0\\web\\src\\app\\order\\finalize-order\\finalize-order.component.html","C:\\Users\\gumal\\OneDrive\\Área de Trabalho\\malimpens2.0\\web\\src\\app\\order\\finalize-order\\finalize-order.component.ts"],"sourcesContent":["<div class=\"container mt-5\">\n    <h2 class=\"text-center\">Revisar Pedido</h2>\n    <div *ngIf=\"produtosDoCarrinho.length > 0; else carrinhoVazio\">\n      <ul>\n        <li *ngFor=\"let produto of produtosDoCarrinho\">\n          <h3>{{ produto.name }}</h3>\n          <p>Quantidade: {{ produto.quantidade }}</p>\n          <p>Preço Unitário: R$ {{ produto.price }}</p>\n          <p>Preço Total: R$ {{ produto.price * produto.quantidade }}</p>\n        </li>\n      </ul>\n      <!-- Adicione campos de observação, método de pagamento e método de entrega aqui -->\n      <!-- Exemplo:\n      <div class=\"form-group\">\n        <label for=\"observacao\">Observação</label>\n        <textarea id=\"observacao\" class=\"form-control\"></textarea>\n      </div>\n      -->\n    </div>\n    <ng-template #carrinhoVazio>\n      <p class=\"text-center\">Seu carrinho de compras está vazio.</p>\n    </ng-template>\n</div>\n  \n<form>\n  <div class=\"form-group\">\n    <label for=\"metodoPagamento\">Método de Pagamento:</label>\n    <select class=\"form-control\" id=\"metodoPagamento\">\n      <option value=\"pix\">Pix</option>\n      <option value=\"debito\">Cartão de Débito</option>\n      <option value=\"credito\">Cartão de Crédito</option>\n      <option value=\"pagarDepois\">Vou Pagar Depois</option>\n    </select>\n  </div>\n  <div class=\"form-group\">\n    <label for=\"metodoEntrega\">Método de Entrega:</label>\n    <select class=\"form-control\" id=\"metodoEntrega\">\n      <option value=\"retirar\">Vou Retirar o Pedido</option>\n      <option value=\"entregar\">Vou Querer que Entregue</option>\n    </select>\n  </div>\n  <div class=\"form-group\" *ngIf=\"metodoEntrega === 'entregar'\">\n    <label for=\"endereco\">Endereço de Entrega:</label>\n    <input type=\"text\" class=\"form-control\" id=\"endereco\">\n  </div>\n  <div class=\"form-group\">\n    <label for=\"dataHora\">Data e Hora:</label>\n    <input type=\"datetime-local\" class=\"form-control\" id=\"dataHora\">\n  </div>\n</form>\n","import { Component, OnInit  } from '@angular/core';\nimport { CarrinhoService } from '../../services/carrinho.service';\n\n@Component({\n  selector: 'app-finalize-order',\n  templateUrl: './finalize-order.component.html',\n  styleUrls: ['./finalize-order.component.css']\n})\nexport class FinalizeOrderComponent implements OnInit {\n\n  metodoPagamento: string = 'pix';\n  metodoEntrega: string = 'retirar';\n  enderecoEntrega: string = '';\n  dataHora: string = '';\n  numeroLoja: string = '+5519999372133';\n  produtosDoCarrinho: any[] = []; // Declare a propriedade produtosDoCarrinho aqui\n\n  constructor(private carrinhoService: CarrinhoService ) {}\n\n  ngOnInit() {\n    // Obtenha os produtos do carrinho usando o serviço\n    this.produtosDoCarrinho = this.carrinhoService.obterProdutosDoCarrinho();\n  }\n\n  calcularTotal(): number {\n    let total = 0;\n    for (const produto of this.produtosDoCarrinho) {\n      total += produto.price * produto.quantidade;\n    }\n    return total;\n  }\n\n  concluirCompra() {\n    if (this.produtosDoCarrinho.length === 0) {\n      return;\n    }\n\n    const mensagem =\n      'Olá, gostaria de realizar um pedido!\\n\\n' +\n      this.produtosDoCarrinho.map(item => `${item.quantidade}x ${item.name} - R$${(item.price * item.quantidade).toFixed(2)}`).join('\\n') +\n      '\\n-------------------------------\\n' +\n      `Ficando no Total: R$${this.calcularPrecoTotal().toFixed(2)}\\n\\n` +\n      `O método de pagamento vai ser: ${this.metodoPagamento}\\n` +\n      `Metodo de entrega: ${this.metodoEntrega === 'retirar' ? 'Vou retirar o pedido' : 'Vou querer que entregue (' + this.enderecoEntrega + ')'}\\n` +\n      `Tudo isso quero para o dia: ${this.dataHora}`;\n\n    const linkWhatsApp = `https://wa.me/${this.numeroLoja}?text=${encodeURIComponent(mensagem)}`;\n\n    window.open(linkWhatsApp, '_blank');\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}