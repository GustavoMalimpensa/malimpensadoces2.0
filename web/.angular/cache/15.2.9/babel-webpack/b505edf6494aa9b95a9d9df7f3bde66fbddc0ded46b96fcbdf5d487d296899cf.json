{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/carrinho.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction FinalizeOrderComponent_div_4_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵelement(1, \"img\", 30);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const produto_r7 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"src\", produto_r7.imageUrl, i0.ɵɵsanitizeUrl);\n    i0.ɵɵpropertyInterpolate(\"alt\", produto_r7.name);\n  }\n}\nfunction FinalizeOrderComponent_div_4_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"div\", 31)(2, \"strong\", 32);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 33)(5, \"h5\", 34);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 35)(8, \"strong\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const produto_r8 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(produto_r8.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Quantidade: \", produto_r8.quantidade, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Pre\\u00E7o total: R$ \", produto_r8.price * produto_r8.quantidade, \",00\");\n  }\n}\nfunction FinalizeOrderComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28);\n    i0.ɵɵtemplate(1, FinalizeOrderComponent_div_4_div_1_Template, 2, 2, \"div\", 29);\n    i0.ɵɵtemplate(2, FinalizeOrderComponent_div_4_div_2_Template, 10, 3, \"div\", 29);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.produtosDoCarrinho);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.produtosDoCarrinho);\n  }\n}\nfunction FinalizeOrderComponent_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 1);\n    i0.ɵɵtext(1, \"Seu carrinho de compras est\\u00E1 vazio.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction FinalizeOrderComponent_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 36)(1, \"label\", 37);\n    i0.ɵɵtext(2, \"Endere\\u00E7o da Entrega:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"input\", 38);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction FinalizeOrderComponent_ul_62_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\")(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const produto_r10 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Produto: \", produto_r10.name, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Quantidade: \", produto_r10.quantidade, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Pre\\u00E7o Total: R$ \", produto_r10.price * produto_r10.quantidade, \"\");\n  }\n}\nfunction FinalizeOrderComponent_ul_62_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\");\n    i0.ɵɵtemplate(1, FinalizeOrderComponent_ul_62_li_1_Template, 7, 3, \"li\", 39);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.produtosDoCarrinho);\n  }\n}\nexport class FinalizeOrderComponent {\n  constructor(carrinhoService) {\n    this.carrinhoService = carrinhoService;\n    this.metodoEntregaOpcao = 'entregar'; // Declare a variável\n    this.metodoPagamento = 'pix';\n    this.metodoEntrega = 'retirar';\n    this.enderecoEntrega = '';\n    this.dataHora = '';\n    this.numeroLoja = '+5519999372133';\n    this.produtosDoCarrinho = []; // Declare a propriedade produtosDoCarrinho aqui\n    this.tipoEntrega = ''; // Variável para armazenar o tipo de entrega\n    this.editandoHorario = false;\n    this.horarioPersonalizado = '';\n    this.totalCompra = 0;\n    // Obtém a hora atual\n    const currentDate = new Date();\n    currentDate.setHours(currentDate.getHours() + 1);\n    // Formata a hora no formato 'hh:mm'\n    this.defaultHorario = this.formatHorario(currentDate);\n  }\n  ngOnInit() {\n    // Obtenha os produtos do carrinho usando o serviço\n    this.produtosDoCarrinho = this.carrinhoService.obterProdutosDoCarrinho();\n  }\n  toggleEndereco() {\n    if (this.tipoEntrega === 'entregar') {\n      // Se a opção \"Entrega no Endereço\" estiver selecionada, mostre o campo de endereço\n      return true;\n    }\n    // Caso contrário, oculte o campo de endereço\n    return false;\n  }\n  calcularPrecoTotal() {\n    let total = 0;\n    for (const item of this.produtosDoCarrinho) {\n      total += item.price * item.quantidade;\n    }\n    return total;\n  }\n  // Função para formatar a hora\n  formatHorario(date) {\n    const hours = this.padZeroes(date.getHours());\n    const minutes = this.padZeroes(date.getMinutes());\n    return `${hours}:${minutes}`;\n  }\n  // Função auxiliar para adicionar zeros à esquerda\n  padZeroes(num) {\n    return num < 10 ? `0${num}` : `${num}`;\n  }\n  calcularPrecoTotalCompra() {\n    let total = 0;\n    for (const produto of this.produtosDoCarrinho) {\n      total += produto.price * produto.quantidade;\n    }\n    return total;\n  }\n  // Função para habilitar a edição do horário personalizado\n  editarHorario() {\n    this.editandoHorario = true;\n  }\n  concluirCompra() {\n    if (this.produtosDoCarrinho.length === 0) {\n      return;\n    }\n    const mensagem = 'Olá, gostaria de realizar um pedido!\\n\\n' + this.produtosDoCarrinho.map(item => `${item.quantidade}x ${item.name} - R$${(item.price * item.quantidade).toFixed(2)}`).join('\\n') + '\\n-------------------------------\\n' + `Ficando no Total: R$${this.calcularPrecoTotal().toFixed(2)}\\n\\n` + `O método de pagamento vai ser: ${this.metodoPagamento}\\n` + `Metodo de entrega: ${this.metodoEntrega === 'retirar' ? 'Vou retirar o pedido' : 'Vou querer que entregue (' + this.enderecoEntrega + ')'}\\n` + `Tudo isso quero para o dia: ${this.dataHora}`;\n    const linkWhatsApp = `https://wa.me/${this.numeroLoja}?text=${encodeURIComponent(mensagem)}`;\n    window.open(linkWhatsApp, '_blank');\n  }\n}\nFinalizeOrderComponent.ɵfac = function FinalizeOrderComponent_Factory(t) {\n  return new (t || FinalizeOrderComponent)(i0.ɵɵdirectiveInject(i1.CarrinhoService));\n};\nFinalizeOrderComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: FinalizeOrderComponent,\n  selectors: [[\"app-finalize-order\"]],\n  decls: 69,\n  vars: 9,\n  consts: [[1, \"container\", \"mt-5\"], [1, \"text-center\"], [1, \"modal-body\"], [\"class\", \"row mb-3\", 4, \"ngIf\", \"ngIfElse\"], [\"carrinhoVazio\", \"\"], [1, \"conteiner\"], [1, \"container\"], [\"type\", \"text\", 1, \"row\", \"custom-content\", \"mt-3\"], [1, \"col-6\"], [\"for\", \"retirar\", 1, \"custom-control-label\"], [1, \"col\"], [\"type\", \"radio\", \"id\", \"retirar\", \"name\", \"tipoEntrega\", \"value\", \"retirar\", 1, \"custom-control-input\", \"custom-radio\", 3, \"ngModel\", \"ngModelChange\"], [1, \"row\", \"custom-content\", \"mt-2\"], [\"for\", \"entregar\", 1, \"custom-control-label\"], [\"type\", \"radio\", \"id\", \"entregar\", \"name\", \"tipoEntrega\", \"value\", \"entregar\", 1, \"custom-control-input\", 3, \"ngModel\", \"ngModelChange\"], [\"class\", \"form-group text-center mt-2\", 4, \"ngIf\"], [1, \"container\", \"mt-3\"], [1, \"row\", \"custom-content\", \"mt-3\"], [\"for\", \"metodoHorario\"], [\"type\", \"time\", \"id\", \"horarioPadrao\", 1, \"form-control\", 3, \"value\"], [\"id\", \"metodoPagamento\", 1, \"form-control\"], [\"value\", \"pix\"], [\"value\", \"debito\"], [\"value\", \"credito\"], [4, \"ngIf\", \"ngIfElse\"], [1, \"mb-5\", \"mt-5\", \"text-center\"], [1, \"btn\", \"btn-primary\", \"custom-primary-button\", \"no-border\", \"custom-image-small\", \"custom-button-height\", \"mb-3\"], [1, \"btn\", \"btn-primary\", \"btn-block\", \"custom-primary-button\", \"no-border\", \"custom-image-small\", 3, \"click\"], [1, \"row\", \"mb-3\"], [\"class\", \"col\", 4, \"ngFor\", \"ngForOf\"], [1, \"custom-small-square-image\", 3, \"src\", \"alt\"], [1, \"col\", \"align-self-start\", \"nome-modal\"], [1, \"nome-modal\"], [1, \"col\", \"align-self-start\", \"quantidade-modal\"], [1, \"quantidade-modal\"], [1, \"col\", \"align-self-start\", \"preco-total-modal\"], [1, \"form-group\", \"text-center\", \"mt-2\"], [\"for\", \"enderecoEntrega \"], [\"type\", \"text\", \"id\", \"enderecoEntrega\", \"name\", \"enderecoEntrega\", 1, \"form-control\"], [4, \"ngFor\", \"ngForOf\"]],\n  template: function FinalizeOrderComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n      i0.ɵɵtext(2, \"Finalizar pedido\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 2);\n      i0.ɵɵtemplate(4, FinalizeOrderComponent_div_4_Template, 3, 2, \"div\", 3);\n      i0.ɵɵtemplate(5, FinalizeOrderComponent_ng_template_5_Template, 2, 0, \"ng-template\", null, 4, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"form\", 5);\n      i0.ɵɵelement(8, \"hr\");\n      i0.ɵɵelementStart(9, \"div\", 6)(10, \"strong\");\n      i0.ɵɵtext(11, \"Tipo de entrega:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"div\", 7)(13, \"div\", 8)(14, \"strong\", 9);\n      i0.ɵɵtext(15, \"Retirar pedido\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(16, \"div\", 10)(17, \"div\");\n      i0.ɵɵtext(18, \"Gr\\u00E1tis\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(19, \"div\", 10)(20, \"input\", 11);\n      i0.ɵɵlistener(\"ngModelChange\", function FinalizeOrderComponent_Template_input_ngModelChange_20_listener($event) {\n        return ctx.tipoEntrega = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(21, \"div\", 12)(22, \"div\", 8)(23, \"strong\", 13);\n      i0.ɵɵtext(24, \"Entregar pedido\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(25, \"div\", 10)(26, \"div\");\n      i0.ɵɵtext(27, \"R$10,00\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(28, \"div\", 10)(29, \"input\", 14);\n      i0.ɵɵlistener(\"ngModelChange\", function FinalizeOrderComponent_Template_input_ngModelChange_29_listener($event) {\n        return ctx.tipoEntrega = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(30, FinalizeOrderComponent_div_30_Template, 4, 0, \"div\", 15);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(31, \"hr\");\n      i0.ɵɵelementStart(32, \"div\", 16)(33, \"strong\", 1);\n      i0.ɵɵtext(34, \"Horario da entrega/retirada:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(35, \"div\", 17)(36, \"div\", 10)(37, \"strong\", 18);\n      i0.ɵɵtext(38, \"Hor\\u00E1rio:\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(39, \"div\", 10);\n      i0.ɵɵelement(40, \"input\", 19);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelement(41, \"hr\");\n      i0.ɵɵelementStart(42, \"div\", 16)(43, \"strong\", 1);\n      i0.ɵɵtext(44, \"M\\u00E9todo de Pagamento:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(45, \"div\", 17)(46, \"div\", 10)(47, \"strong\", 18);\n      i0.ɵɵtext(48, \"Pagamento:\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(49, \"div\", 10)(50, \"select\", 20)(51, \"option\", 21);\n      i0.ɵɵtext(52, \"Pix\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(53, \"option\", 22);\n      i0.ɵɵtext(54, \"Cart\\u00E3o de D\\u00E9bito na entrega\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(55, \"option\", 23);\n      i0.ɵɵtext(56, \"Cart\\u00E3o de Cr\\u00E9dito na entrega\");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelement(57, \"hr\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(58, \"div\", 0)(59, \"h2\", 1);\n      i0.ɵɵtext(60, \"Finalizar pedido\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(61, \"div\", 2);\n      i0.ɵɵtemplate(62, FinalizeOrderComponent_ul_62_Template, 2, 1, \"ul\", 24);\n      i0.ɵɵelementStart(63, \"p\");\n      i0.ɵɵtext(64);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(65, \"div\", 25)(66, \"div\", 26)(67, \"button\", 27);\n      i0.ɵɵlistener(\"click\", function FinalizeOrderComponent_Template_button_click_67_listener() {\n        return ctx.concluirCompra();\n      });\n      i0.ɵɵtext(68, \" Continuar \");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(6);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.produtosDoCarrinho.length > 0)(\"ngIfElse\", _r1);\n      i0.ɵɵadvance(16);\n      i0.ɵɵproperty(\"ngModel\", ctx.tipoEntrega);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngModel\", ctx.tipoEntrega);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.toggleEndereco());\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"value\", ctx.defaultHorario);\n      i0.ɵɵadvance(22);\n      i0.ɵɵproperty(\"ngIf\", ctx.produtosDoCarrinho.length > 0)(\"ngIfElse\", _r1);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"Total da Compra: R$ \", ctx.totalCompra, \"\");\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.ɵNgNoValidate, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.RadioControlValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm],\n  styles: [\".custom-primary-button[_ngcontent-%COMP%] {\\r\\n    background-color: #cb0606; \\r\\n    color: #FFFFFF; \\r\\n}\\r\\n\\r\\n.no-border[_ngcontent-%COMP%] {\\r\\n    border: none !important;\\r\\n}\\r\\n\\r\\n\\r\\n.custom-button-height[_ngcontent-%COMP%] {\\r\\n    width: 330px; \\r\\n}\\r\\n  \\r\\n.container[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\r\\n    margin: 0 auto; \\r\\n}\\r\\n\\r\\n\\r\\n.custom-content[_ngcontent-%COMP%] {\\r\\n    border: 1px solid gray;\\r\\n    border-radius: 10px;\\r\\n    padding: 10px;\\r\\n    display: flex;\\r\\n    align-items: center;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.custom-content[_ngcontent-%COMP%]:hover {\\r\\nborder-color: red;\\r\\n}\\r\\n\\r\\n.custom-content[_ngcontent-%COMP%]   input[type=\\\"radio\\\"][_ngcontent-%COMP%]:checked    + .bolinha[_ngcontent-%COMP%] {\\r\\nbackground-color: red;\\r\\nborder-color: red;\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n@media screen and (max-width: 768px) {\\r\\n    .categories[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\r\\n        font-size: 14px; \\r\\n    }\\r\\n    .custom-content[_ngcontent-%COMP%] {\\r\\n        width: 100%;\\r\\n    }\\r\\n}\\r\\n  \\r\\n.custom-small-square-image[_ngcontent-%COMP%] {\\r\\n    border-radius: 10px;\\r\\n    width: 70px; \\r\\n    height: 70px; \\r\\n    object-fit: cover; \\r\\n}\\r\\n\\r\\n.nome-modal[_ngcontent-%COMP%]{\\r\\n    font-size: 10px;\\r\\n    padding-bottom: 8px;\\r\\n    padding-top: 8px;\\r\\n}\\r\\n\\r\\n.quantidade-modal[_ngcontent-%COMP%]{\\r\\n    font-size: 10px;\\r\\n}\\r\\n\\r\\n.preco-total-modal[_ngcontent-%COMP%]{\\r\\n    font-size: 10px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvb3JkZXIvZmluYWxpemUtb3JkZXIvZmluYWxpemUtb3JkZXIuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxzQkFBc0I7QUFDdEI7SUFDSSx5QkFBeUIsRUFBRSwyRUFBMkU7SUFDdEcsY0FBYyxFQUFFLDBCQUEwQjtBQUM5Qzs7QUFFQTtJQUNJLHVCQUF1QjtBQUMzQjs7QUFFQSxzQkFBc0I7QUFDdEI7SUFDSSxZQUFZLEVBQUUsOEJBQThCO0FBQ2hEOztBQUVBO0lBQ0ksYUFBYTtJQUNiLHNCQUFzQjtJQUN0Qix1QkFBdUI7SUFDdkIsbUJBQW1CO0lBQ25CLGNBQWMsRUFBRSxrREFBa0Q7QUFDdEU7OztBQUdBO0lBQ0ksc0JBQXNCO0lBQ3RCLG1CQUFtQjtJQUNuQixhQUFhO0lBQ2IsYUFBYTtJQUNiLG1CQUFtQjtJQUNuQixlQUFlO0FBQ25COztBQUVBO0FBQ0EsaUJBQWlCO0FBQ2pCOztBQUVBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjs7OztBQUlBLGlFQUFpRTtBQUNqRTtJQUNJO1FBQ0ksZUFBZSxFQUFFLG9EQUFvRDtJQUN6RTtJQUNBO1FBQ0ksV0FBVztJQUNmO0FBQ0o7O0FBRUE7SUFDSSxtQkFBbUI7SUFDbkIsV0FBVyxFQUFFLDhDQUE4QztJQUMzRCxZQUFZLEVBQUUsNkNBQTZDO0lBQzNELGlCQUFpQixFQUFFLHVFQUF1RTtBQUM5Rjs7QUFFQTtJQUNJLGVBQWU7SUFDZixtQkFBbUI7SUFDbkIsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksZUFBZTtBQUNuQjs7QUFFQTtJQUNJLGVBQWU7QUFDbkIiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBDU1MgcGVyc29uYWxpemFkbyAqL1xyXG4uY3VzdG9tLXByaW1hcnktYnV0dG9uIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNjYjA2MDY7IC8qIFN1YnN0aXR1YSBpc3NvIHBlbGEgY29yIGRlc2VqYWRhIGVtIGZvcm1hdG8gaGV4YWRlY2ltYWwgb3Ugbm9tZSBkYSBjb3IgKi9cclxuICAgIGNvbG9yOiAjRkZGRkZGOyAvKiBDb3IgZG8gdGV4dG8gbm8gYm90w4PCo28gKi9cclxufVxyXG5cclxuLm5vLWJvcmRlciB7XHJcbiAgICBib3JkZXI6IG5vbmUgIWltcG9ydGFudDtcclxufVxyXG5cclxuLyogQ1NTIHBlcnNvbmFsaXphZG8gKi9cclxuLmN1c3RvbS1idXR0b24taGVpZ2h0IHtcclxuICAgIHdpZHRoOiAzMzBweDsgLyogQWx0dXJhIGRlc2VqYWRhIGVtIHBpeGVscyAqL1xyXG59XHJcbiAgXHJcbi5jb250YWluZXIge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBtYXJnaW46IDAgYXV0bzsgLyogSXNzbyBjZW50cmFsaXphcsODwqEgaG9yaXpvbnRhbG1lbnRlIG8gY29udMODwqppbmVyICovXHJcbn1cclxuXHJcblxyXG4uY3VzdG9tLWNvbnRlbnQge1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgZ3JheTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbn1cclxuXHJcbi5jdXN0b20tY29udGVudDpob3ZlciB7XHJcbmJvcmRlci1jb2xvcjogcmVkO1xyXG59XHJcblxyXG4uY3VzdG9tLWNvbnRlbnQgaW5wdXRbdHlwZT1cInJhZGlvXCJdOmNoZWNrZWQgKyAuYm9saW5oYSB7XHJcbmJhY2tncm91bmQtY29sb3I6IHJlZDtcclxuYm9yZGVyLWNvbG9yOiByZWQ7XHJcbn1cclxuXHJcblxyXG5cclxuLyogTWVkaWEgcXVlcnkgcGFyYSBhanVzdGFyIG8gdGFtYW5obyBkYSBmb250ZSBlbSB0ZWxhcyBtZW5vcmVzICovXHJcbkBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDc2OHB4KSB7XHJcbiAgICAuY2F0ZWdvcmllcyBhIHtcclxuICAgICAgICBmb250LXNpemU6IDE0cHg7IC8qIFRhbWFuaG8gZGUgZm9udGUgYWluZGEgbWVub3IgcGFyYSB0ZWxhcyBtZW5vcmVzICovXHJcbiAgICB9XHJcbiAgICAuY3VzdG9tLWNvbnRlbnQge1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgfVxyXG59XHJcbiAgXHJcbi5jdXN0b20tc21hbGwtc3F1YXJlLWltYWdlIHtcclxuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgICB3aWR0aDogNzBweDsgLyogRGVmaW5hIGEgbGFyZ3VyYSBkZXNlamFkYSAoZXhlbXBsbzogNTBweCkgKi9cclxuICAgIGhlaWdodDogNzBweDsgLyogRGVmaW5hIGEgYWx0dXJhIGRlc2VqYWRhIChleGVtcGxvOiA1MHB4KSAqL1xyXG4gICAgb2JqZWN0LWZpdDogY292ZXI7IC8qIFBhcmEgYWp1c3RhciBhIGltYWdlbSBhbyB0YW1hbmhvIGVzcGVjaWZpY2FkbyBtYW50ZW5kbyBhIHByb3BvcsODwqfDg8KjbyAqL1xyXG59XHJcblxyXG4ubm9tZS1tb2RhbHtcclxuICAgIGZvbnQtc2l6ZTogMTBweDtcclxuICAgIHBhZGRpbmctYm90dG9tOiA4cHg7XHJcbiAgICBwYWRkaW5nLXRvcDogOHB4O1xyXG59XHJcblxyXG4ucXVhbnRpZGFkZS1tb2RhbHtcclxuICAgIGZvbnQtc2l6ZTogMTBweDtcclxufVxyXG5cclxuLnByZWNvLXRvdGFsLW1vZGFse1xyXG4gICAgZm9udC1zaXplOiAxMHB4O1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","FinalizeOrderComponent","constructor","carrinhoService","currentDate","Date","setHours","getHours","defaultHorario","formatHorario","ngOnInit","produtosDoCarrinho","obterProdutosDoCarrinho","toggleEndereco","tipoEntrega","calcularPrecoTotal","total","item","price","quantidade","date","hours","padZeroes","minutes","getMinutes","num","calcularPrecoTotalCompra","produto","editarHorario","editandoHorario","concluirCompra","length","mensagem","map","name","toFixed","join","metodoPagamento","metodoEntrega","enderecoEntrega","dataHora","linkWhatsApp","numeroLoja","encodeURIComponent","window","open","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\gumal\\OneDrive\\Área de Trabalho\\malimpensa\\src\\app\\order\\finalize-order\\finalize-order.component.html","C:\\Users\\gumal\\OneDrive\\Área de Trabalho\\malimpensa\\src\\app\\order\\finalize-order\\finalize-order.component.ts"],"sourcesContent":["<div class=\"container mt-5\">\n  <h2 class=\"text-center\">Finalizar pedido</h2>\n  <div class=\"modal-body\">\n    <div *ngIf=\"produtosDoCarrinho.length > 0; else carrinhoVazio\" class=\"row mb-3\">\n      <div class=\"col\" *ngFor=\"let produto of produtosDoCarrinho\">\n        <img src=\"{{ produto.imageUrl }}\" alt=\"{{ produto.name }}\" class=\"custom-small-square-image\">\n      </div>\n      <div class=\"col\" *ngFor=\"let produto of produtosDoCarrinho\">\n        <div class=\"col align-self-start nome-modal\">\n          <strong class=\"nome-modal\">{{ produto.name }}</strong>\n        </div>\n        <div class=\"col align-self-start quantidade-modal\">\n          <h5 class=\"quantidade-modal\">Quantidade: {{ produto.quantidade }}</h5>\n        </div>\n        <div class=\"col align-self-start preco-total-modal\">\n          <strong>Preço total: R$ {{ produto.price * produto.quantidade }},00</strong>\n        </div>\n      </div>\n    </div> \n  <ng-template #carrinhoVazio>\n    <p class=\"text-center\">Seu carrinho de compras está vazio.</p>\n  </ng-template>\n</div>\n\n  \n<form class=\"conteiner\">\n  <hr>\n  <div class=\"container\">\n    <strong>Tipo de entrega:</strong>\n    <div class=\"row custom-content mt-3\" type=\"text\">\n      <div class=\"col-6\">\n        <strong class=\"custom-control-label \" for=\"retirar\">Retirar pedido</strong>\n      </div>\n      <div class=\"col\">\n        <div>Grátis</div>\n      </div>\n      <div class=\"col\">\n        <input type=\"radio\" id=\"retirar\" [(ngModel)]=\"tipoEntrega\" name=\"tipoEntrega\" class=\"custom-control-input  custom-radio\" value=\"retirar\">\n      </div>\n    </div>\n    <div class=\"row custom-content mt-2\">\n      <div class=\"col-6\">\n        <strong class=\"custom-control-label\" for=\"entregar\">Entregar pedido</strong>\n      </div>\n      <div class=\"col\">\n        <div>R$10,00</div>\n      </div>\n      <div class=\"col\">\n        <input type=\"radio\" id=\"entregar\" [(ngModel)]=\"tipoEntrega\" name=\"tipoEntrega\" class=\"custom-control-input\" value=\"entregar\">\n      </div>\n      <div class=\"form-group text-center mt-2\" *ngIf=\"toggleEndereco()\">\n        <label for=\"enderecoEntrega \">Endereço da Entrega:</label>\n        <input type=\"text\" class=\"form-control\" id=\"enderecoEntrega\" name=\"enderecoEntrega\">\n      </div>\n    </div>\n  </div>\n\n  <hr>\n  \n  <div class=\"container mt-3\">\n    <strong class=\"text-center\">Horario da entrega/retirada:</strong>\n    <div class=\"row custom-content mt-3\">\n      <div class=\"col\">\n        <strong for=\"metodoHorario\">Horário:</strong>\n      </div>\n      <div class=\"col\">\n        <input type=\"time\" class=\"form-control\" id=\"horarioPadrao\" [value]=\"defaultHorario\">\n      </div>\n    </div>\n  </div>\n\n  <hr>\n\n  <div class=\"container mt-3\">\n    <strong class=\"text-center\">Método de Pagamento:</strong>\n    <div class=\"row custom-content mt-3\">\n      <div class=\"col\">\n        <strong for=\"metodoHorario\">Pagamento:</strong>\n      </div>\n      <div class=\"col\">\n        <select class=\"form-control \" id=\"metodoPagamento\">\n          <option value=\"pix\">Pix</option>\n          <option value=\"debito\">Cartão de Débito na entrega</option>\n          <option value=\"credito\">Cartão de Crédito na entrega</option>\n        </select>\n      </div>\n    </div>\n  </div>\n  <hr>\n</form>\n\n<div class=\"container mt-5\">\n  <h2 class=\"text-center\">Finalizar pedido</h2>\n  <div class=\"modal-body\">\n    <ul *ngIf=\"produtosDoCarrinho.length > 0; else carrinhoVazio\">\n      <li *ngFor=\"let produto of produtosDoCarrinho\">\n        <p>Produto: {{ produto.name }}</p>\n        <p>Quantidade: {{ produto.quantidade }}</p>\n        <p>Preço Total: R$ {{ produto.price * produto.quantidade }}</p>\n      </li>\n    </ul>\n    <p>Total da Compra: R$ {{ totalCompra }}</p>\n  </div>\n</div>\n\n<div class=\" mb-5 mt-5 text-center\">\n  <div class=\"btn btn-primary custom-primary-button no-border custom-image-small custom-button-height mb-3\">\n    <button class=\"btn btn-primary btn-block custom-primary-button no-border custom-image-small \" (click)=\"concluirCompra()\">\n      Continuar\n    </button>\n  </div>\n</div>\n","import { Component, OnInit  } from '@angular/core';\nimport { CarrinhoService } from '../../services/carrinho.service';\n\n@Component({\n  selector: 'app-finalize-order',\n  templateUrl: './finalize-order.component.html',\n  styleUrls: ['./finalize-order.component.css']\n})\nexport class FinalizeOrderComponent implements OnInit {\n\n  metodoEntregaOpcao: string = 'entregar'; // Declare a variável\n  metodoPagamento: string = 'pix';\n  metodoEntrega: string = 'retirar';\n  enderecoEntrega: string = '';\n  dataHora: string = '';\n  numeroLoja: string = '+5519999372133';\n  produtosDoCarrinho: any[] = []; // Declare a propriedade produtosDoCarrinho aqui\n  tipoEntrega: string = ''; // Variável para armazenar o tipo de entrega\n  defaultHorario: string;\n  editandoHorario: boolean = false;\n  horarioPersonalizado: string = '';\n  totalCompra: number = 0;\n\n\n  constructor(private carrinhoService: CarrinhoService ) {\n    // Obtém a hora atual\n    const currentDate = new Date();\n    currentDate.setHours(currentDate.getHours() + 1);\n\n    // Formata a hora no formato 'hh:mm'\n    this.defaultHorario = this.formatHorario(currentDate);\n  }\n\n  ngOnInit() {\n    // Obtenha os produtos do carrinho usando o serviço\n    this.produtosDoCarrinho = this.carrinhoService.obterProdutosDoCarrinho();\n  }\n\n  toggleEndereco() {\n    if (this.tipoEntrega === 'entregar') {\n      // Se a opção \"Entrega no Endereço\" estiver selecionada, mostre o campo de endereço\n      return true;\n    }\n    // Caso contrário, oculte o campo de endereço\n    return false;\n  }\n\n  calcularPrecoTotal(): number {\n    let total = 0;\n    for (const item of this.produtosDoCarrinho) {\n      total += item.price * item.quantidade;\n    }\n    return total;\n  }\n\n\n  // Função para formatar a hora\n  formatHorario(date: Date): string {\n    const hours = this.padZeroes(date.getHours());\n    const minutes = this.padZeroes(date.getMinutes());\n\n    return `${hours}:${minutes}`;\n  }\n\n  // Função auxiliar para adicionar zeros à esquerda\n  padZeroes(num: number): string {\n    return num < 10 ? `0${num}` : `${num}`;\n  }\n\n  calcularPrecoTotalCompra(): number {\n    let total = 0;\n  \n    for (const produto of this.produtosDoCarrinho) {\n      total += produto.price * produto.quantidade;\n    }\n  \n    return total;\n  }\n  \n  \n\n  // Função para habilitar a edição do horário personalizado\n  editarHorario() {\n    this.editandoHorario = true;\n  }\n\n  concluirCompra() {\n\n    if (this.produtosDoCarrinho.length === 0) {\n      return;\n    }\n    const mensagem =\n      'Olá, gostaria de realizar um pedido!\\n\\n' +\n      this.produtosDoCarrinho.map(item => `${item.quantidade}x ${item.name} - R$${(item.price * item.quantidade).toFixed(2)}`).join('\\n') +\n      '\\n-------------------------------\\n' +\n      `Ficando no Total: R$${this.calcularPrecoTotal().toFixed(2)}\\n\\n` +\n      `O método de pagamento vai ser: ${this.metodoPagamento}\\n` +\n      `Metodo de entrega: ${this.metodoEntrega === 'retirar' ? 'Vou retirar o pedido' : 'Vou querer que entregue (' + this.enderecoEntrega + ')'}\\n` +\n      `Tudo isso quero para o dia: ${this.dataHora}`;\n\n    const linkWhatsApp = `https://wa.me/${this.numeroLoja}?text=${encodeURIComponent(mensagem)}`;\n\n    window.open(linkWhatsApp, '_blank');\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}