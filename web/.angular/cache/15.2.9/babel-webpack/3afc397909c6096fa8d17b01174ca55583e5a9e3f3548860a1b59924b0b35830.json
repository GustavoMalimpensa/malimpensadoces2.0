{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet ProductsComponent = class ProductsComponent {\n  constructor(modalService, agendamentoService // Injete o serviço aqui\n  ) {\n    this.modalService = modalService;\n    this.agendamentoService = agendamentoService;\n    this.successMessage = ''; // Mensagem de sucesso\n    this.errorMessage = ''; // Mensagem de erro\n    this.agendamento = {\n      content: '',\n      date: '',\n      time: '',\n      service: '',\n      user_id: '1' // Certifique-se de definir o user_id conforme necessário\n    };\n  }\n\n  ngOnInit() {}\n  openModal(buttonNumber) {\n    this.title = `Agendar Horário `;\n    this.modalRef = this.modalService.show(this.modalTemplate);\n  }\n  agendar() {\n    this.agendamentoService.agendar(this.agendamento).subscribe(response => {\n      console.log('Agendamento enviado com sucesso:', response);\n      this.successMessage = 'Agendamento realizado com sucesso.';\n      this.errorMessage = ''; // Limpa qualquer mensagem de erro anterior\n      // Lógica adicional após o agendamento bem-sucedido, se necessário\n      // Lógica adicional após o agendamento bem-sucedido, se necessário\n    }, error => {\n      console.error('Erro ao enviar o agendamento:', error);\n      this.errorMessage = 'Erro no agendamento. Tente novamente.';\n      this.successMessage = ''; // Limpa qualquer mensagem de sucesso anterior\n      // Lógica de tratamento de erro, se necessário\n    });\n  }\n};\n\n__decorate([ViewChild('modalTemplate')], ProductsComponent.prototype, \"modalTemplate\", void 0);\nProductsComponent = __decorate([Component({\n  selector: 'app-products',\n  templateUrl: './products.component.html',\n  styleUrls: ['./products.component.css']\n})], ProductsComponent);\nexport { ProductsComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAOlC,IAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EAc5BC,YACUC,YAA4B,EAC5BC,kBAAsC,CAAC;EAAA;IADvC,iBAAY,GAAZD,YAAY;IACZ,uBAAkB,GAAlBC,kBAAkB;IAZ5B,mBAAc,GAAW,EAAE,CAAC,CAAC;IAC7B,iBAAY,GAAW,EAAE,CAAC,CAAG;IAC7B,gBAAW,GAAQ;MACjBC,OAAO,EAAE,EAAE;MACXC,IAAI,EAAE,EAAE;MACRC,IAAI,EAAE,EAAE;MACRC,OAAO,EAAE,EAAE;MACXC,OAAO,EAAE,GAAG,CAAE;KACf;EAKE;;EAEHC,QAAQ,IAAU;EAElBC,SAAS,CAACC,YAAoB;IAC5B,IAAI,CAACC,KAAK,GAAG,kBAAkB;IAC/B,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACX,YAAY,CAACY,IAAI,CAAC,IAAI,CAACC,aAAa,CAAC;EAC5D;EAEAC,OAAO;IACL,IAAI,CAACb,kBAAkB,CAACa,OAAO,CAAC,IAAI,CAACC,WAAW,CAAC,CAACC,SAAS,CACxDC,QAAQ,IAAI;MACXC,OAAO,CAACC,GAAG,CAAC,kCAAkC,EAAEF,QAAQ,CAAC;MACzD,IAAI,CAACG,cAAc,GAAG,oCAAoC;MAC1D,IAAI,CAACC,YAAY,GAAG,EAAE,CAAC,CAAC;MACxB;MACA;IACF,CAAC,EACAC,KAAK,IAAI;MACRJ,OAAO,CAACI,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;MACrD,IAAI,CAACD,YAAY,GAAG,uCAAuC;MAC3D,IAAI,CAACD,cAAc,GAAG,EAAE,CAAC,CAAC;MAC1B;IACF,CAAC,CACF;EACH;CAGD;;AAD6BG,YAA3BC,SAAS,CAAC,eAAe,CAAC,wDAAwB;AA5CxC1B,iBAAiB,eAL7BD,SAAS,CAAC;EACT4B,QAAQ,EAAE,cAAc;EACxBC,WAAW,EAAE,2BAA2B;EACxCC,SAAS,EAAE,CAAC,0BAA0B;CACvC,CAAC,GACW7B,iBAAiB,CA6C7B;SA7CYA,iBAAiB","names":["Component","ProductsComponent","constructor","modalService","agendamentoService","content","date","time","service","user_id","ngOnInit","openModal","buttonNumber","title","modalRef","show","modalTemplate","agendar","agendamento","subscribe","response","console","log","successMessage","errorMessage","error","__decorate","ViewChild","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\gumal\\OneDrive\\Área de Trabalho\\malimpens2.0\\src\\app\\user\\products\\products.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-products',\n  templateUrl: './products.component.html',\n  styleUrls: ['./products.component.css']\n})\nexport class ProductsComponent {\n\n  modalRef?: BsModalRef;\n  title: any;\n  successMessage: string = ''; // Mensagem de sucesso\n  errorMessage: string = '';   // Mensagem de erro\n  agendamento: any = {\n    content: '',\n    date: '',\n    time: '',\n    service: '',\n    user_id: '1', // Certifique-se de definir o user_id conforme necessário\n  };\n\n  constructor(\n    private modalService: BsModalService,\n    private agendamentoService: AgendamentoService // Injete o serviço aqui\n  ) {}\n\n  ngOnInit(): void {}\n\n  openModal(buttonNumber: number) {\n    this.title = `Agendar Horário `;\n    this.modalRef = this.modalService.show(this.modalTemplate);\n  }\n\n  agendar() {\n    this.agendamentoService.agendar(this.agendamento).subscribe(\n      (response) => {\n        console.log('Agendamento enviado com sucesso:', response);\n        this.successMessage = 'Agendamento realizado com sucesso.';\n        this.errorMessage = ''; // Limpa qualquer mensagem de erro anterior\n        // Lógica adicional após o agendamento bem-sucedido, se necessário\n        // Lógica adicional após o agendamento bem-sucedido, se necessário\n      },\n      (error) => {\n        console.error('Erro ao enviar o agendamento:', error);\n        this.errorMessage = 'Erro no agendamento. Tente novamente.';\n        this.successMessage = ''; // Limpa qualquer mensagem de sucesso anterior\n        // Lógica de tratamento de erro, se necessário\n      }\n    );\n  }\n  \n  @ViewChild('modalTemplate') modalTemplate!: string;\n}\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}